[
  {
    "type": "CREATE TABLE",
    "tblName": "users",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "name",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "email",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "mailing_list",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "email",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": true,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "UNIQUE INDEX",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "email",
            "len": null,
            "direction": null
          }
        ]
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "user_tokens",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "token",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "type",
        "definition": {
          "dataType": "VARCHAR(12)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "exams",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "audio_url",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "video_url",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "products",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "enabled",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": "FALSE",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "name",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "brand",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "img_url",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "options_power",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "options_bc",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "options_diameter",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "options_cyl",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "options_axis",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "options_ot",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "price_retail",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "price_wholesale",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "aab_code",
        "definition": {
          "dataType": "VARCHAR(12)",
          "nullable": false,
          "defaultValue": "",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "description",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "num_days_per_lens",
        "definition": {
          "dataType": "SMALLINT UNSIGNED",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "num_lenses",
        "definition": {
          "dataType": "SMALLINT UNSIGNED",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "scripts",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "product_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_power",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_bc",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_diameter",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_cyl",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_axis",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_ot",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_power",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_bc",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_diameter",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_cyl",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_axis",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_ot",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "products",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_bin"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "sessions",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "session_id",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "expires",
        "definition": {
          "dataType": "INT(11) UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "data",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "PRIMARY KEY",
        "columns": [
          "session_id"
        ]
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "versions",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "to_version",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "from_version",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_migrated",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "UNIQUE INDEX",
        "constraint": null,
        "indexName": "to_version",
        "indexColNames": [
          {
            "colName": "to_version",
            "len": null,
            "direction": null
          },
          {
            "colName": "from_version",
            "len": null,
            "direction": null
          }
        ]
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "parent_products",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "enabled",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": "FALSE",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "name",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "brand",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "img_url",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "options_power",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "options_bc",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "options_diameter",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "options_cyl",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "options_axis",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "options_ot",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "description",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "num_days_per_lens",
        "definition": {
          "dataType": "SMALLINT UNSIGNED",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "additional_search_keywords",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  null,
  {
    "type": "ALTER TABLE",
    "tblName": "products",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "name"
      },
      {
        "type": "DROP COLUMN",
        "colName": "brand"
      },
      {
        "type": "DROP COLUMN",
        "colName": "img_url"
      },
      {
        "type": "DROP COLUMN",
        "colName": "options_power"
      },
      {
        "type": "DROP COLUMN",
        "colName": "options_bc"
      },
      {
        "type": "DROP COLUMN",
        "colName": "options_diameter"
      },
      {
        "type": "DROP COLUMN",
        "colName": "options_cyl"
      },
      {
        "type": "DROP COLUMN",
        "colName": "options_axis"
      },
      {
        "type": "DROP COLUMN",
        "colName": "options_ot"
      },
      {
        "type": "DROP COLUMN",
        "colName": "description"
      },
      {
        "type": "DROP COLUMN",
        "colName": "num_days_per_lens"
      },
      {
        "type": "ADD COLUMN",
        "colName": "parent_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_parent_product_id",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "parent_product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "products",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  null,
  {
    "type": "CREATE TABLE",
    "tblName": "payment_tokens",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "enabled",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": "FALSE",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "stripe_card_id",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "brand",
        "definition": {
          "dataType": "CHAR(64)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "last4",
        "definition": {
          "dataType": "CHAR(4)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "exp_month",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "exp_year",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "stripe_customer_id",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "telephone",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "addresses",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "label",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "street_line_1",
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "street_line_2",
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "city",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "state",
        "definition": {
          "dataType": "VARCHAR(2)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "postal_code",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "orders",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "quantity",
        "definition": {
          "dataType": "SMALLINT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "script_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "shipping_address",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "script_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "scripts",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "auto_renewals",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "script_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "renew_every_n_days",
        "definition": {
          "dataType": "SMALLINT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "script_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "scripts",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "quantity"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "addresses",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "label",
        "newColName": "label",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "options",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "order_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "num_lenses",
        "definition": {
          "dataType": "SMALLINT UNSIGNED",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "duration",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "order_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "orders",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "scripts",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "scripts_ibfk_2"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "scripts",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "product_id"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "scripts",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "parent_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "scripts",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "parent_product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "parent_products",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "mds",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "name",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "email",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": true,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "UNIQUE INDEX",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "email",
            "len": null,
            "direction": null
          }
        ]
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  null,
  {
    "type": "CREATE TABLE",
    "tblName": "labels",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "label",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "color",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {},
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "orders_labels_xref",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "order_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "label_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "order_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "orders",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "label_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "labels",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {},
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "exams_ibfk_1"
      },
      {
        "type": "DROP COLUMN",
        "colName": "audio_url"
      },
      {
        "type": "DROP COLUMN",
        "colName": "user_id"
      },
      {
        "type": "ADD COLUMN",
        "colName": "visual_acuity_video_url",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "letters",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "notes",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "md_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "script_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "passed",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "md_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "mds",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "script_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "scripts",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "MODIFY COLUMN",
        "colName": "md_id",
        "after": null,
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "MODIFY COLUMN",
        "colName": "letters",
        "after": null,
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_archived",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": true,
          "defaultValue": "FALSE",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_order_confirm_sent",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": true,
          "defaultValue": "FALSE",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_shipping_confirm_sent",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": true,
          "defaultValue": "FALSE",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "uploaded_videos",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "video_url",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "letters",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "abb_order_no",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "notes",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "uploaded_videos",
    "changes": [
      {
        "type": "MODIFY COLUMN",
        "colName": "letters",
        "after": null,
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "uploaded_videos",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "type",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "mailing_list",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "state",
        "definition": {
          "dataType": "VARCHAR(2)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "mailing_list",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "run_out_date",
        "definition": {
          "dataType": "DATE",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "auth_tokens",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "guid",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "valid",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "has_seen_onboarding",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "has_qualified",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "abb_product_catalog",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "parent_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "man_id",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "man_name",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "prd_addition",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "prd_axis",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "prd_checkdigit",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "prd_color",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "prd_color_id",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "prd_convert",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "prd_cylinder",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "prd_description",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "prd_id",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": true,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "prd_power",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "prd_upc_code",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "prf_basecurve",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "prf_convert",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "prf_diameter",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "prf_id",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "prf_rev_diag_ind",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "ser_day_per_lens",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "ser_id",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "ser_name",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "ser_wear_freq",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "sty_id",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "unt_id",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "unt_lens_qtty",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "unt_name",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "unt_pack_qtty",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "unt_patient_visible",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "price_retail",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "price_wholesale",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "parent_product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "parent_products",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "abb_product_catalog",
    "changes": [
      {
        "type": "ADD INDEX",
        "indexName": "ser_name",
        "indexType": null,
        "indexColNames": [
          {
            "colName": "ser_name",
            "len": null,
            "direction": null
          }
        ]
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "mailing_list",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "qualify_state",
        "definition": {
          "dataType": "VARCHAR(2)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "qualify_run_out_date",
        "definition": {
          "dataType": "DATE",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "CHANGE COLUMN",
        "oldColName": "has_qualified",
        "newColName": "has_seen_qualification",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "abb_product_catalog",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "enabled",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "mailing_list",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "source",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "abb_product_catalog",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "enabled"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "abb_product_catalog",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "price_wholesale"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "abb_product_catalog",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "price_retail"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "referral",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "qualify_run_out_date",
        "newColName": "qualify_last_exam_date",
        "definition": {
          "dataType": "DATE",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "qualify_birthday",
        "definition": {
          "dataType": "DATE",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "mailing_list",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "last_exam_date",
        "definition": {
          "dataType": "DATE",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_auto_renew",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "tracking_number",
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "tracking_number_url",
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_staff",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "env",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": "prod",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "user_logs",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "subject",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "device",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "data",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "user_logs",
    "changes": [
      {
        "type": "DROP DEFAULT",
        "tblName": "date_created"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "user_logs",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_user_id",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "user_logs",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "virtual_supplies",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "sku",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "parent_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "name",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "num_boxes",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": 1,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "price",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "parent_product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "parent_products",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "user_logs",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "data",
        "newColName": "data",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      },
      {
        "type": "CHANGE COLUMN",
        "oldColName": "device",
        "newColName": "device",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "user_logs",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "fk_user_id"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "user_logs",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "id"
      }
    ]
  },
  null,
  {
    "type": "ALTER TABLE",
    "tblName": "parent_products",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "use_supply_overrides",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "virtual_supplies",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "name",
        "newColName": "opt_duration",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "virtual_supplies",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "price",
        "newColName": "price_retail",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "virtual_supplies",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "num_lenses",
        "definition": {
          "dataType": "SMALLINT UNSIGNED",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "affiliate_id",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD UNIQUE INDEX",
        "constraint": "constr_affiliate_id",
        "indexName": null,
        "indexType": null,
        "indexColNames": [
          {
            "colName": "affiliate_id",
            "len": null,
            "direction": null
          }
        ]
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "products",
    "changes": [
      {
        "type": "ADD INDEX",
        "indexName": null,
        "indexType": null,
        "indexColNames": [
          {
            "colName": "date_created",
            "len": null,
            "direction": null
          }
        ]
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "options",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "sku",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "admins",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "name",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "email",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": true,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "uploaded_videos",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "letters",
        "newColName": "letters",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "CREATE INDEX",
    "indexName": "user_logs_user_id_subject_idx",
    "tblName": "user_logs",
    "indexColNames": [
      {
        "colName": "user_id",
        "len": null,
        "direction": null
      },
      {
        "colName": "subject",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "sandbox",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "order_logs",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "data",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "order_id",
        "definition": {
          "dataType": "INT(11)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "subject",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE INDEX",
    "indexName": "order_logs_order_id_subject_idx",
    "tblName": "order_logs",
    "indexColNames": [
      {
        "colName": "order_id",
        "len": null,
        "direction": null
      },
      {
        "colName": "subject",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "exam_logs",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "data",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "exam_id",
        "definition": {
          "dataType": "INT(11)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "subject",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE INDEX",
    "indexName": "exam_logs_exam_id_subject_idx",
    "tblName": "exam_logs",
    "indexColNames": [
      {
        "colName": "exam_id",
        "len": null,
        "direction": null
      },
      {
        "colName": "subject",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "redness_test_video_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "visual_acuity_test_video_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_visual_acuity_test_video_id",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "visual_acuity_test_video_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "uploaded_videos",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_redness_test_video_id",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "redness_test_video_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "uploaded_videos",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "video_url",
        "newColName": "video_url",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      },
      {
        "type": "CHANGE COLUMN",
        "oldColName": "visual_acuity_video_url",
        "newColName": "visual_acuity_video_url",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      },
      {
        "type": "CHANGE COLUMN",
        "oldColName": "letters",
        "newColName": "letters",
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  null,
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "date_rx_expires",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "status",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "exams_ibfk_3"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "script_id",
        "newColName": "script_id",
        "definition": {
          "dataType": "INT(11)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "exams_ibfk_3",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "script_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "scripts",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "date_modified",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": "NOW()",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "video_url"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "visual_acuity_video_url"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "letters"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "exams_users_fk",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "uploaded_videos",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "status",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "uploaded_videos",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "invalid_reason",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "uploaded_videos",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "tags",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "user_logs",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "features",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "DROP TABLE",
    "tblName": "md_licenses",
    "ifExists": true
  },
  {
    "type": "DROP TABLE",
    "tblName": "pcs",
    "ifExists": true
  },
  {
    "type": "DROP TABLE",
    "tblName": "pc_addresses",
    "ifExists": true
  },
  {
    "type": "ALTER TABLE",
    "tblName": "mds",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "signature_url",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "mds",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "telephone",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "md_licenses",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "md_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "license",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "state",
        "definition": {
          "dataType": "VARCHAR(2)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "md_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "mds",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "pc_addresses",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "street",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "city",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "state",
        "definition": {
          "dataType": "VARCHAR(2)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "postal_code",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "pcs",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "name",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "state",
        "definition": {
          "dataType": "VARCHAR(2)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "pc_address_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "pc_address_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "pc_addresses",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "parent_products",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "options_distance",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "parent_products",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "options_add_power",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "parent_products",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "options_color",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "parent_products",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "options",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "DROP TABLE",
    "tblName": "cart",
    "ifExists": true
  },
  {
    "type": "CREATE TABLE",
    "tblName": "cart",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_modified",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": "NOW()",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_parent_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_rx",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_option",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_parent_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_rx",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_option",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "auto_renew",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "left_parent_product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "parent_products",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "right_parent_product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "parent_products",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "has_qualified",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "has_answered_q1",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "has_answered_q2",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "has_answered_q3",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "has_signed_waiver",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  null,
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_deleted",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "order_no",
        "definition": {
          "dataType": "VARCHAR(10)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "left_parent_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "right_parent_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "left_rx",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "right_rx",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_left_parent_product_id",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "left_parent_product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "parent_products",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_right_parent_product_id",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "right_parent_product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "parent_products",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "exam_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_exam_id",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "exam_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "exams",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  null,
  null,
  {
    "type": "ALTER TABLE",
    "tblName": "addresses",
    "changes": [
      {
        "type": "ADD UNIQUE INDEX",
        "constraint": "constr_addresses_user_id_label",
        "indexName": null,
        "indexType": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          },
          {
            "colName": "label",
            "len": null,
            "direction": null
          }
        ]
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "subtotal",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "sales_tax",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "exam_cost",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "shipping_cost",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "discount_amt",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "total",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_user_id",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "orders_ibfk_1"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "left_qty_option",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "right_qty_option",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "exams_ibfk_3"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "script_id",
        "newColName": "script_id",
        "definition": {
          "dataType": "INT(11)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  null,
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "script_id"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "script_id"
      }
    ]
  },
  {
    "type": "DROP TABLE",
    "tblName": "scripts",
    "ifExists": false
  },
  null,
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "referral_id",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "DROP TABLE",
    "tblName": "auto_renewals",
    "ifExists": false
  },
  {
    "type": "DROP TABLE",
    "tblName": "exam_videos",
    "ifExists": true
  },
  {
    "type": "DROP TABLE",
    "tblName": "order_logs",
    "ifExists": true
  },
  {
    "type": "DROP TABLE",
    "tblName": "auto_renewals",
    "ifExists": true
  },
  {
    "type": "DROP TABLE",
    "tblName": "sessions",
    "ifExists": true
  },
  {
    "type": "DROP TABLE",
    "tblName": "user_icloud_tokens",
    "ifExists": true
  },
  {
    "type": "DROP TABLE",
    "tblName": "options",
    "ifExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "date_auto_renew",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "user_device_ad_ids",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "BINARY(16)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_last_seen",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "type",
        "definition": {
          "dataType": "VARCHAR(7)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "auth_tokens",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "BINARY(16)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  null,
  {
    "type": "ALTER TABLE",
    "tblName": "auth_tokens",
    "changes": [
      {
        "type": "DROP PRIMARY KEY"
      },
      {
        "type": "ADD PRIMARY KEY",
        "constraint": null,
        "indexType": null,
        "indexColNames": [
          {
            "colName": "id",
            "len": null,
            "direction": null
          }
        ]
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "auth_tokens",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "guid"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "referral_url",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "DROP TABLE",
    "tblName": "sms",
    "ifExists": true
  },
  {
    "type": "CREATE TABLE",
    "tblName": "sms",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "sent_from",
        "definition": {
          "dataType": "VARCHAR(12)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "sent_to",
        "definition": {
          "dataType": "VARCHAR(12)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "body",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "direction",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "DROP TABLE",
    "tblName": "sms",
    "ifExists": false
  },
  {
    "type": "DROP TABLE",
    "tblName": "messages",
    "ifExists": true
  },
  {
    "type": "CREATE TABLE",
    "tblName": "messages",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "sms_from",
        "definition": {
          "dataType": "VARCHAR(12)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "sms_to",
        "definition": {
          "dataType": "VARCHAR(12)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "email_from",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "email_to",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "message",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "direction",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "attachments",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "user_logs",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "subject",
        "newColName": "subject",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "referral_url"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "attachments",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "status",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "cancel_reason",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "status",
        "newColName": "status",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": "OPEN",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "audit_log",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "subject",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "data",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_shortened_rx",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "stripe_charge_id",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "shipping_address",
        "newColName": "shipping_address",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      },
      {
        "type": "CHANGE COLUMN",
        "oldColName": "referral",
        "newColName": "referral",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "national_lens_product_catalog",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "comp_id",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "description",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "bc",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "dia",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "color",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "power",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "axis",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "cyl",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "sample",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "upc",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "productsv2",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "additional_search_keywords",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "brand",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "description",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "is_enabled",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": "0",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "img_url",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "name",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "num_days_per_lens",
        "definition": {
          "dataType": "SMALLINT(5) UNSIGNED",
          "nullable": true,
          "defaultValue": "0",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "num_lenses",
        "definition": {
          "dataType": "SMALLINT(5) UNSIGNED",
          "nullable": true,
          "defaultValue": "0",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "price_retail",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": true,
          "defaultValue": "0.00",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "options",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "left_qty",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "right_qty",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "v2_left_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "v2_right_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "cart",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "v2_left_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "cart",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "v2_right_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "md_licenses",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "license",
        "newColName": "license_no",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "productsv2",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "_parent_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "cart",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "right_qty",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "left_qty",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "DROP TABLE",
    "tblName": "virtual_supplies",
    "ifExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "abb_product_catalog",
    "changes": [
      {
        "type": "RENAME TABLE",
        "newTblName": "catalog_abb"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "national_lens_product_catalog",
    "changes": [
      {
        "type": "RENAME TABLE",
        "newTblName": "catalog_national_lens"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "labels",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "DROP TABLE",
    "tblName": "orders_labels_xref",
    "ifExists": false
  },
  {
    "type": "DROP TABLE",
    "tblName": "labels",
    "ifExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "productsv2",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "_parent_product_id"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "fk_right_parent_product_id"
      },
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "fk_left_parent_product_id"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "right_parent_product_id"
      },
      {
        "type": "DROP COLUMN",
        "colName": "left_parent_product_id"
      },
      {
        "type": "DROP INDEX",
        "indexName": "fk_right_parent_product_id"
      },
      {
        "type": "DROP INDEX",
        "indexName": "fk_left_parent_product_id"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "catalog_abb",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "catalog_abb_ibfk_1"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "catalog_abb",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "parent_product_id"
      },
      {
        "type": "DROP INDEX",
        "indexName": "parent_product_id"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "cart",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "cart_ibfk_3"
      },
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "cart_ibfk_2"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "cart",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "right_parent_product_id"
      },
      {
        "type": "DROP COLUMN",
        "colName": "left_parent_product_id"
      },
      {
        "type": "DROP INDEX",
        "indexName": "right_parent_product_id"
      },
      {
        "type": "DROP INDEX",
        "indexName": "left_parent_product_id"
      }
    ]
  },
  {
    "type": "DROP TABLE",
    "tblName": "parent_products",
    "ifExists": false
  },
  {
    "type": "DROP TABLE",
    "tblName": "products",
    "ifExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "productsv2",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "_parent_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_deleted",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "customer_service_grade",
        "definition": {
          "dataType": "VARCHAR(1)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "distributor",
        "definition": {
          "dataType": "VARCHAR(8)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "wholesale_cost",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "distributor_shipping_cost",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "abb_order_no",
        "newColName": "distributor_order_no",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "date_status_modified",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "date_status_modified",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TRIGGER",
    "triggerName": "upd_order_date_status_modified",
    "tblName": "orders"
  },
  {
    "type": "CREATE TRIGGER",
    "triggerName": "upd_exam_date_status_modified",
    "tblName": "exams"
  },
  {
    "type": "ALTER TABLE",
    "tblName": "mds",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "mobile_number",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "mds",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "slack_username",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "rebates",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "product_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "num_boxes",
        "definition": {
          "dataType": "SMALLINT UNSIGNED",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "amt_discount",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "productsv2",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "mds",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_admin",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "mail_in_rebate_amt",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "catalog_national_lens",
    "changes": [
      {
        "type": "RENAME TABLE",
        "newTblName": "catalog_ntl_lens"
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "product_skus",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "product_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "power",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "bc",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "dia",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "color",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "axis",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "cyl",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "dn",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "add_power",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "productsv2",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "distributors",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "name",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "distributor_skus",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "distributor_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "ntl_lens_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "product_sku_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "unit_lens_qty",
        "definition": {
          "dataType": "SMALLINT UNSIGNED",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "distributor_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "distributors",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "product_sku_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "product_skus",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "ntl_lens_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "catalog_ntl_lens",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "distributor_shipping_methods",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "distributor_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "description",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "shipping_code",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "distributor_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "distributors",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE FUNCTION",
    "spName": "levenshtein",
    "params": [
      {
        "paramName": "s1",
        "type": "VARCHAR(255)"
      },
      {
        "paramName": "s2",
        "type": "VARCHAR(255)"
      }
    ],
    "characteristic": [
      null,
      "DETERMINISTIC"
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_rebate_sent",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_rebate_returned",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_rebate_mailed",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_rebate_cashed",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "messages",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_acknowledged",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "user_attribution_adjust",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "idfa",
        "definition": {
          "dataType": "BINARY(16)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "android_id",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "store",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "network_name",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "campaign_name",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "adgroup_name",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "creative_name",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "impression_based",
        "definition": {
          "dataType": "TINYINT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "is_organic",
        "definition": {
          "dataType": "TINYINT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "gclid",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "click_time",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "installed_at",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "device_type",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "fb_campaign_group_name",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "fb_campaign_group_id",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "fb_campaign_name",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "fb_campaign_id",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "fb_adgroup_name",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "fb_adgroup_id",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "twitter_line_item_id",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "ip_address",
        "definition": {
          "dataType": "VARBINARY(16)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "messages",
    "changes": [
      {
        "type": "MODIFY COLUMN",
        "colName": "sms_from",
        "after": null,
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "messages",
    "changes": [
      {
        "type": "MODIFY COLUMN",
        "colName": "sms_to",
        "after": null,
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "messages",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "raw_message",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "messages",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_escalated",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "date_md_reviewed",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_retake_permitted",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "retake_instructions",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "date_closed",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "labels",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "notes",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "addresses",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "date_modified",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": "NOW()",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_deleted",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "productsv2",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "brand_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "brands",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "name",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "slug",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "productsv2",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_brands_id",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "brand_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "brands",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "admins",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "roles",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "admins",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "profile_image",
        "definition": {
          "dataType": "VARCHAR(200)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "audit_log",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "audit_log",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "admin_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "audit_log",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "admin_id_fk01",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "admin_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "admins",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "admin_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "admin_id_fk02",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "admin_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "admins",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "admins",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "signature_url",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "admins",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "mobile_number",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "admins",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "slack_username",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "admins",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_suspended",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "admins",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "profile_image"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "admins",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "is_suspended",
        "newColName": "is_deleted",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "wallet_transactions",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "type",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "amt",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "pct",
        "definition": {
          "dataType": "TINYINT(3)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "order_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "is_deleted",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "expires_at",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "metadata",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "order_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "orders",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE INDEX",
    "indexName": "wallet_user_id_idx",
    "tblName": "wallet_transactions",
    "indexColNames": [
      {
        "colName": "user_id",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "CREATE INDEX",
    "indexName": "wallet_order_id_idx",
    "tblName": "wallet_transactions",
    "indexColNames": [
      {
        "colName": "order_id",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "reward_rules",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "label",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "type",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "is_deleted",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "branch_id",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "reward_for",
        "definition": {
          "dataType": "VARCHAR(12)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "amt",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "pct",
        "definition": {
          "dataType": "TINYINT(3)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "max_uses",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "must_trigger_event",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "expires_at",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE INDEX",
    "indexName": "reward_rules_branch_id_idx",
    "tblName": "reward_rules",
    "indexColNames": [
      {
        "colName": "branch_id",
        "len": null,
        "direction": null
      }
    ],
    "unique": true
  },
  {
    "type": "CREATE TABLE",
    "tblName": "deeplinks",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "url",
        "definition": {
          "dataType": "VARCHAR(160)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "created_by_user_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "reward_rule_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "is_single_use",
        "definition": {
          "dataType": "TINYINT",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "expires_at",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "created_by_user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "reward_rule_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "reward_rules",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE INDEX",
    "indexName": "deeplinks_url_idx",
    "tblName": "deeplinks",
    "indexColNames": [
      {
        "colName": "url",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "deeplink_hits",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "deeplink_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "deeplink_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "deeplinks",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE INDEX",
    "indexName": "deeplinks_hits_user_id_idx",
    "tblName": "deeplink_hits",
    "indexColNames": [
      {
        "colName": "user_id",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "branch_identity_id",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "refer_a_friend",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "referree_user_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "referree_wallet_transaction_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "referrer_user_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "referrer_wallet_transaction_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "url",
        "definition": {
          "dataType": "VARCHAR(160)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "referree_user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "referrer_user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "referree_wallet_transaction_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "wallet_transactions",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "referrer_wallet_transaction_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "wallet_transactions",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE INDEX",
    "indexName": "refer_a_friend_referree_user_id_idx",
    "tblName": "refer_a_friend",
    "indexColNames": [
      {
        "colName": "referree_user_id",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "CREATE INDEX",
    "indexName": "refer_a_friend_referrer_user_id_idx",
    "tblName": "refer_a_friend",
    "indexColNames": [
      {
        "colName": "referrer_user_id",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "audit_log",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "data",
        "newColName": "data",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "audit_log",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "subject",
        "newColName": "subject",
        "definition": {
          "dataType": "VARCHAR(600)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "md_licenses",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "admin_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "md_licenses",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "admin_id_fk03",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "admin_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "admins",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "admin_id",
        "newColName": "md_admin_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "md_licenses",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "admin_id",
        "newColName": "md_admin_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "device_display_properties",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "device_name",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "operating_system",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "diagonal_inches",
        "definition": {
          "dataType": "DECIMAL(3, 1)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "pixel_width",
        "definition": {
          "dataType": "SMALLINT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "pixel_height",
        "definition": {
          "dataType": "SMALLINT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "aspect_width",
        "definition": {
          "dataType": "SMALLINT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "aspect_height",
        "definition": {
          "dataType": "SMALLINT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "device_width",
        "definition": {
          "dataType": "SMALLINT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "pixels_per_inch",
        "definition": {
          "dataType": "SMALLINT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "MODIFY COLUMN",
        "colName": "email",
        "after": null,
        "definition": {
          "dataType": "VARCHAR(254)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "v2_messages",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "admin_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "thread_id",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_sent",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "min_send_date",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "sms_to",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "sms_from",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "email_to",
        "definition": {
          "dataType": "VARCHAR(254)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "email_from",
        "definition": {
          "dataType": "VARCHAR(254)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "state",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "optimal_send_time_threshold",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "attachments",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "content",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "raw_content",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "direction",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "is_acknowledged",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "admin_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "admins",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE INDEX",
    "indexName": "v2_messages_user_id_date_sent_idx",
    "tblName": "v2_messages",
    "indexColNames": [
      {
        "colName": "user_id",
        "len": null,
        "direction": null
      },
      {
        "colName": "date_sent",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "wallet_transactions",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_promotional",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 1,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "reward_rule_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "reward_rule_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "reward_rules",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "DROP INDEX",
    "indexName": "deeplinks_url_idx",
    "tblName": "deeplinks"
  },
  {
    "type": "CREATE INDEX",
    "indexName": "deeplinks_url_idx",
    "tblName": "deeplinks",
    "indexColNames": [
      {
        "colName": "url",
        "len": null,
        "direction": null
      }
    ],
    "unique": true
  },
  {
    "type": "CREATE TABLE",
    "tblName": "do_not_disturb",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_expiry",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "channels",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "drip_type",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "drip_schedule",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "channels",
        "definition": {
          "dataType": "JSON",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "send_interval",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "type",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "replacement_schedule",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "drip_messages",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "type",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "description",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "sendwithus_template_id",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "content",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "drip_schedule_messages_xref",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "drip_schedule_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "drip_message_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "drip_schedule_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "drip_schedule",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "drip_message_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "drip_messages",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "drip_reorder_options",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_qty",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_rx",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_qty",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_rx",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "left_product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "productsv2",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "right_product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "productsv2",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE INDEX",
    "indexName": "drip_schedule_messages_xref_idx",
    "tblName": "drip_schedule_messages_xref",
    "indexColNames": [
      {
        "colName": "drip_schedule_id",
        "len": null,
        "direction": null
      },
      {
        "colName": "drip_message_id",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "CREATE INDEX",
    "indexName": "dnd_user_id_date_expiry_idx",
    "tblName": "do_not_disturb",
    "indexColNames": [
      {
        "colName": "user_id",
        "len": null,
        "direction": null
      },
      {
        "colName": "date_expiry",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "CREATE INDEX",
    "indexName": "drip_reorder_options_user_id_idx",
    "tblName": "drip_reorder_options",
    "indexColNames": [
      {
        "colName": "user_id",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "notes",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "admin_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "exam_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_modified",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "text",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "is_deleted",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": "FALSE",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "admin_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "admins",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "exam_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "exams",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "productsv2",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "materials",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "productsv2",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "package_details",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "v2_messages",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "sendwithus_template_id",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "productsv2",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "lens_type",
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "package_detail",
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "material",
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "product_competitors",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "product_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "lens_com_url",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "lens_com_selector",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "lens_com_price",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "lens_com_last_crawled",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "c1800_url",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "c1800_price",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "c1800_last_crawled",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "visiondirect_url",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "visiondirect_price",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "visiondirect_last_crawled",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "productsv2",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {},
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "rx_images",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "productsv2",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "_parent_product_id"
      },
      {
        "type": "DROP COLUMN",
        "colName": "brand"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "cart",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "right_option"
      },
      {
        "type": "DROP COLUMN",
        "colName": "left_option"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "right_qty_option"
      },
      {
        "type": "DROP COLUMN",
        "colName": "left_qty_option"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "has_qualified"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "drip_reorder_options",
    "changes": [
      {
        "type": "ADD UNIQUE INDEX",
        "constraint": "constr_drip_reorder_options_user_id",
        "indexName": null,
        "indexType": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ]
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_rx_email_sent",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "detect_sessions",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "uploaded_video_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "mean_distance",
        "definition": {
          "dataType": "FLOAT(4, 2)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "min_distance",
        "definition": {
          "dataType": "FLOAT(4, 2)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "max_distance",
        "definition": {
          "dataType": "FLOAT(4, 2)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "correct_distance_percent",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "request_count",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "undetected_count",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "error_count",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "max_faces",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "PRIMARY KEY",
        "columns": [
          "uploaded_video_id"
        ]
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "uploaded_video_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "uploaded_videos",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "uploaded_videos",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "camera_metadata",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "productsv2",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "package_detail"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "productsv2",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "material"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "productsv2",
    "changes": [
      {
        "type": "MODIFY COLUMN",
        "colName": "lens_type",
        "after": null,
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "v2_messages",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "drip_schedule_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "v2_messages",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "messages_drip_schedule_fk",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "drip_schedule_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "drip_schedule",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "v2_messages",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "send_error",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "drip_schedule",
    "changes": [
      {
        "type": "ADD UNIQUE INDEX",
        "constraint": null,
        "indexName": "replacement_schedule_send_interval_type_unique",
        "indexType": null,
        "indexColNames": [
          {
            "colName": "replacement_schedule",
            "len": null,
            "direction": null
          },
          {
            "colName": "send_interval",
            "len": null,
            "direction": null
          },
          {
            "colName": "type",
            "len": null,
            "direction": null
          }
        ]
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "user_auth_passwords",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_modified",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": "NOW()",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "password_hash",
        "definition": {
          "dataType": "BINARY(60)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "user_auth_password_reset_tokens",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_expires",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "token",
        "definition": {
          "dataType": "VARCHAR(36)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "is_used",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE INDEX",
    "indexName": "user_auth_password_reset_tokens_token_idx",
    "tblName": "user_auth_password_reset_tokens",
    "indexColNames": [
      {
        "colName": "token",
        "len": null,
        "direction": null
      }
    ],
    "unique": true
  },
  {
    "type": "CREATE TABLE",
    "tblName": "shipping_options",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "TINYINT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "is_deleted",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "label",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "cost",
        "definition": {
          "dataType": "DECIMAL(5, 2)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "shipping_option_id",
        "definition": {
          "dataType": "TINYINT",
          "nullable": true,
          "defaultValue": 1,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "shipping_option_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "shipping_options",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "cart",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "shipping_option_id",
        "definition": {
          "dataType": "TINYINT",
          "nullable": true,
          "defaultValue": 1,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "shipping_option_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "shipping_options",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "wallet_transactions",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "shipping_option_id",
        "definition": {
          "dataType": "TINYINT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "shipping_option_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "shipping_options",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "detect_sessions",
    "changes": [
      {
        "type": "MODIFY COLUMN",
        "colName": "request_count",
        "after": null,
        "definition": {
          "dataType": "SMALLINT UNSIGNED",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "MODIFY COLUMN",
        "colName": "undetected_count",
        "after": null,
        "definition": {
          "dataType": "SMALLINT UNSIGNED",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "MODIFY COLUMN",
        "colName": "error_count",
        "after": null,
        "definition": {
          "dataType": "SMALLINT UNSIGNED",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "date_of_birth",
        "definition": {
          "dataType": "DATE",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "subscriptions",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "name",
        "definition": {
          "dataType": "VARCHAR(200)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "type",
        "definition": {
          "dataType": "VARCHAR(200)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "data",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "user_logs",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "platform_id",
        "definition": {
          "dataType": "TINYINT",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "platform_id",
        "definition": {
          "dataType": "TINYINT",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "productsv2",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "product_line",
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "category",
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "advertising_attribution",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "source",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "campaign",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "adgroup",
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "keyword",
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "creative",
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE INDEX",
    "indexName": "advertising_attribution_user_id_idx",
    "tblName": "advertising_attribution",
    "indexColNames": [
      {
        "colName": "user_id",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "drip_reorder_options",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "preferred_address_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "drip_reorder_options",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "preferred_address_id_fk01",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "preferred_address_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "addresses",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "reorder_options",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "exam_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_qty",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_rx",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "order_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "preferred_address_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "preferred_shipping_option_id",
        "definition": {
          "dataType": "TINYINT(4)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_qty",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_rx",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "PRIMARY KEY",
        "columns": [
          "user_id"
        ]
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "exam_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "exams",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "order_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "orders",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "left_product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "productsv2",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "right_product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "productsv2",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "preferred_address_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "addresses",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "preferred_shipping_option_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "shipping_options",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "v2_messages",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "type",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "v2_messages",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "order_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "v2_messages",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "exam_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "v2_messages",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "order_id_fk01",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "order_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "orders",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "v2_messages",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "exam_id_fk01",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "exam_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "exams",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_photo_rx",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "addresses",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "user_address_id",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "has_seen_rx_upload",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "preferred_address_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "preferred_address_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "addresses",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "addresses",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "addresses_ibfk_1"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "addresses",
    "changes": [
      {
        "type": "DROP INDEX",
        "indexName": "constr_addresses_user_id_label"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "addresses",
    "changes": [
      {
        "type": "ADD UNIQUE INDEX",
        "constraint": null,
        "indexName": "addresses_user_id_user_address_id_idx",
        "indexType": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          },
          {
            "colName": "user_address_id",
            "len": null,
            "direction": null
          }
        ]
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "date_fulfilled",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "user_attribution_adjust",
    "changes": [
      {
        "type": "MODIFY COLUMN",
        "colName": "network_name",
        "after": null,
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "MODIFY COLUMN",
        "colName": "campaign_name",
        "after": null,
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "MODIFY COLUMN",
        "colName": "adgroup_name",
        "after": null,
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "MODIFY COLUMN",
        "colName": "creative_name",
        "after": null,
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "productsv2",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "available_distributor_ids",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "has_seen_rx_upload"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "date_first_ready_for_dr",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "date_first_md_reviewed",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "diagnosis",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE LIKE",
    "tblName": "lenses",
    "oldTblName": "productsv2",
    "ifNotExists": null
  },
  {
    "type": "ALTER TABLE",
    "tblName": "distributors",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "abbreviation",
        "definition": {
          "dataType": "VARCHAR(8)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  null,
  {
    "type": "ALTER TABLE",
    "tblName": "distributor_shipping_methods",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "cost",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": false,
          "defaultValue": "0.00",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "pickup_time",
        "definition": {
          "dataType": "SMALLINT UNSIGNED",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "add_cost_per_gram",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": false,
          "defaultValue": "0.00",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "max_grams",
        "definition": {
          "dataType": "INT UNSIGNED",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "lens_variations",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "upc",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": true,
          "isPrimary": true,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_modified",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": "NOW()",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "power",
        "definition": {
          "dataType": "VARCHAR(8)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "bc",
        "definition": {
          "dataType": "VARCHAR(8)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "dia",
        "definition": {
          "dataType": "VARCHAR(8)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "color",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "axis",
        "definition": {
          "dataType": "VARCHAR(8)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "cyl",
        "definition": {
          "dataType": "VARCHAR(8)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "add_power",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "dn",
        "definition": {
          "dataType": "VARCHAR(1)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "num_lenses",
        "definition": {
          "dataType": "SMALLINT UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "shipping_weight_grams",
        "definition": {
          "dataType": "INT UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "lens_to_variation",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "lens_variation_upc",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "lens_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "multiplier",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "PRIMARY KEY",
        "columns": [
          "lens_variation_upc",
          "lens_id"
        ]
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "lens_variation_upc",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "lens_variations",
          "indexColNames": [
            {
              "colName": "upc",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "lens_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "lenses",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "INDEX",
        "name": "idx_lens_id",
        "columns": [
          "lens_id"
        ]
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "distributor_lens_stock",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "lens_variation_upc",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "distributor_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_modified",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": "NOW()",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "cost",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": false,
          "defaultValue": "0.00",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "is_available",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": false,
          "defaultValue": 1,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "is_dx",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "brand_name",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "product_name",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "PRIMARY KEY",
        "columns": [
          "distributor_id",
          "lens_variation_upc"
        ]
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "distributor_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "distributors",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "lens_variation_upc",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "lens_variations",
          "indexColNames": [
            {
              "colName": "upc",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "left_lens_distributor_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "left_lens_distributor_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "distributors",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "ADD COLUMN",
        "colName": "right_lens_distributor_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "right_lens_distributor_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "distributors",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "ADD COLUMN",
        "colName": "left_lens_upc",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "left_lens_upc",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "lens_variations",
          "indexColNames": [
            {
              "colName": "upc",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "ADD COLUMN",
        "colName": "right_lens_upc",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "right_lens_upc",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "lens_variations",
          "indexColNames": [
            {
              "colName": "upc",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "ADD COLUMN",
        "colName": "left_lens_distributor_qty",
        "definition": {
          "dataType": "SMALLINT UNSIGNED",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "right_lens_distributor_qty",
        "definition": {
          "dataType": "SMALLINT UNSIGNED",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "mailing_list",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "state",
        "newColName": "qualify_state",
        "definition": {
          "dataType": "VARCHAR(2)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      },
      {
        "type": "CHANGE COLUMN",
        "oldColName": "last_exam_date",
        "newColName": "qualify_last_exam_date",
        "definition": {
          "dataType": "DATE",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "video_detection_segments",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "segment_id",
        "definition": {
          "dataType": "INT UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "video_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "segment_timestamp",
        "definition": {
          "dataType": "DATETIME",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "segment_length",
        "definition": {
          "dataType": "DECIMAL(5, 2)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "error_count",
        "definition": {
          "dataType": "SMALLINT UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "mean_distance",
        "definition": {
          "dataType": "DECIMAL(4, 2)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "max_faces",
        "definition": {
          "dataType": "SMALLINT UNSIGNED",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "glasses_detected",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "video_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "uploaded_videos",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "exam_costs",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "cost",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  null,
  {
    "type": "CREATE INDEX",
    "indexName": "subject_date_created_idx",
    "tblName": "audit_log",
    "indexColNames": [
      {
        "colName": "subject",
        "len": null,
        "direction": null
      },
      {
        "colName": "date_created",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "exam_cost",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "video_detection_segments",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "request_count",
        "definition": {
          "dataType": "SMALLINT UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "undetected_count",
        "definition": {
          "dataType": "SMALLINT UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "addresses",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_deleted",
        "definition": {
          "dataType": "TINYINT",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_auto_renew_purchase",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_auto_renew_on",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "DROP TABLE",
    "tblName": "catalog_abb",
    "ifExists": false
  },
  {
    "type": "DROP TABLE",
    "tblName": "exam_costs",
    "ifExists": false
  },
  {
    "type": "DROP TABLE",
    "tblName": "messages",
    "ifExists": false
  },
  {
    "type": "DROP TABLE",
    "tblName": "distributor_skus",
    "ifExists": false
  },
  {
    "type": "DROP TABLE",
    "tblName": "catalog_ntl_lens",
    "ifExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "exams_ibfk_2"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "DROP INDEX",
        "indexName": "md_id"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "md_id"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "md_licenses",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "md_licenses_ibfk_1"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "md_licenses",
    "changes": [
      {
        "type": "DROP INDEX",
        "indexName": "md_id"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "md_licenses",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "md_id"
      }
    ]
  },
  {
    "type": "DROP TABLE",
    "tblName": "mds",
    "ifExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "reward_rules",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "branch_id",
        "newColName": "promo_code",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "video_detection_segments",
    "changes": [
      {
        "type": "MODIFY COLUMN",
        "colName": "mean_distance",
        "after": null,
        "definition": {
          "dataType": "DECIMAL(4, 2)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "is_auto_renew"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "cart",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "auto_renew"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "cart",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "dx_shipping_option_id",
        "definition": {
          "dataType": "TINYINT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "dx_shipping_option_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "shipping_options",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_dx",
        "definition": {
          "dataType": "TINYINT",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "has_answered_dx_q1",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "has_answered_dx_q2",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "has_answered_dx_q3",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "has_answered_dx_q4",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "has_answered_dx_q5",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "has_answered_dx_q6",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "shipping_options",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_dx",
        "definition": {
          "dataType": "TINYINT",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "has_dx",
        "definition": {
          "dataType": "TINYINT",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "dx_shipping_cost",
        "definition": {
          "dataType": "DECIMAL(5, 2)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "dx_shipping_option_id",
        "definition": {
          "dataType": "TINYINT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "dx_shipping_option_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "shipping_options",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "ADD COLUMN",
        "colName": "dx_tracking_number",
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "dx_tracking_number_url",
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "is_dx_shipping_confirm_sent",
        "definition": {
          "dataType": "TINYINT",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "experimental_subscriptions",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "order_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "stripe_plan_id",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_subscription_ends",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_rx",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_rx",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "experiment_data",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "experimental_passive_verification",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "order_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_qty",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_rx",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_qty",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_rx",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "verifying_md_name",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "verifying_md_city",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "verifying_md_state",
        "definition": {
          "dataType": "VARCHAR(2)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "verifying_md_telephone",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "experiment_data",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "experimental_brand_switching",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "order_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "current_left_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "current_right_product_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_rx",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_rx",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "experiment_data",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "distributor_orders",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "order_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "status",
        "definition": {
          "dataType": "VARCHAR(50)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "error",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "sentry_id",
        "definition": {
          "dataType": "VARCHAR(50)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "distributor_order_no",
        "definition": {
          "dataType": "VARCHAR(250)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "shipping_cost",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "shipping_option",
        "definition": {
          "dataType": "VARCHAR(100)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "tracking",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "order_no",
        "definition": {
          "dataType": "VARCHAR(10)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "name",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_qty",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_qty",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "distributor",
        "definition": {
          "dataType": "VARCHAR(8)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_lens_upc",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_lens_upc",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "shipping_address",
        "definition": {
          "dataType": "JSON",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "order_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "orders",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "INDEX",
        "name": "status",
        "columns": [
          "status"
        ]
      }
    ],
    "options": {},
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "left_lens_distributor_order_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "right_lens_distributor_order_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_left_lens",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "left_lens_distributor_order_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "distributor_orders",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_right_lens",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "right_lens_distributor_order_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "distributor_orders",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "user_attribution_adjust",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "idfa",
        "newColName": "idfa",
        "definition": {
          "dataType": "VARCHAR(45)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "payment_log",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_auto_charge_enabled",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": true,
          "defaultValue": "FALSE",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_passive_verification",
        "definition": {
          "dataType": "TINYINT",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "pass_verif_optom",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "pass_verif_optom",
        "newColName": "passive_verification_optom",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "user_attribution_adjust",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "adid",
        "definition": {
          "dataType": "VARCHAR(45)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "gps_adid",
        "definition": {
          "dataType": "VARCHAR(45)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "user_device_ad_ids",
    "changes": [
      {
        "type": "RENAME TABLE",
        "newTblName": "user_device_ad_ids_legacy"
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "user_device_ad_ids",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "VARCHAR(45)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "type",
        "definition": {
          "dataType": "VARCHAR(12)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_last_seen",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "PRIMARY KEY",
        "columns": [
          "id",
          "user_id",
          "type"
        ]
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "distributor_orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_backordered",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": true,
          "defaultValue": "FALSE",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "distributor_orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_cancelled",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": true,
          "defaultValue": "FALSE",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "distributor_orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "cost",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "distributor_orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "invoice_no",
        "definition": {
          "dataType": "VARCHAR(100)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "has_answered_ct_q1",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "DROP TABLE",
    "tblName": "user_device_ad_ids_legacy",
    "ifExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_dr_valid_override",
        "definition": {
          "dataType": "TINYINT",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD UNIQUE INDEX",
        "constraint": null,
        "indexName": null,
        "indexType": null,
        "indexColNames": [
          {
            "colName": "email",
            "len": null,
            "direction": null
          }
        ]
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "dx_left_lens_distributor_order_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "dx_right_lens_distributor_order_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "distributor_orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "type",
        "definition": {
          "dataType": "VARCHAR(10)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "advertising_attribution",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "landing_page_url",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "experiment_overrides",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "path",
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "override_choice",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "PRIMARY KEY",
        "columns": [
          "user_id",
          "path"
        ]
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": true
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "qualify_state",
        "definition": {
          "dataType": "VARCHAR(2)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "qualify_last_exam_date",
        "definition": {
          "dataType": "DATE",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "lens_type",
        "definition": {
          "dataType": "ENUM(\"daily\", \"weekly\", \"monthly\")",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "distributor_orders",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "cost"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "distributor_orders",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "shipping_cost"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "distributor_orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "left_cost",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "distributor_orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "right_cost",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "distributor_orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "left_shipping_cost",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "distributor_orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "right_shipping_cost",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "dx_wholesale_cost",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "dx_distributor_shipping_cost",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "user_attribution_surveys",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "answer",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "location",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "device",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "has_skipped",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "tasks",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "type",
        "definition": {
          "dataType": "VARCHAR(250)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "priority",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_resolved",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_assigned",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "metadata",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "tags",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "case_category",
        "definition": {
          "dataType": "VARCHAR(250)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "assigned_admin_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "assigner_admin_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "completed_by_admin_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "status",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": false,
          "defaultValue": "ACTIVE",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "fk_assigned_admin",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "assigned_admin_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "admins",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "fk_assigner_admin",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "assigner_admin_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "admins",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "tasks_xref",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "association_type",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "task_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "order_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "note_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "message_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "exam_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "fk_task",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "task_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "tasks",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "fk_order",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "order_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "orders",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "fk_note",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "note_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "notes",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "fk_message",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "message_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "v2_messages",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "fk_exam",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "exam_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "exams",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "claimed_by_admin_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_claimed",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "claimed_by_admin_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "admins",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "notes",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "order_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "notes",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "type",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": true,
          "defaultValue": "MD_NOTE",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "notes",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "data",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "notes",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_sc_notes",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "order_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "orders",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "tasks",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "last_updated",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": "NOW()",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "tasks_xref",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "last_updated",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": "NOW()",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "cloud_storage",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "url",
        "definition": {
          "dataType": "VARCHAR(250)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "name",
        "definition": {
          "dataType": "VARCHAR(250)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "data",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "estimated_reorder_date",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "estimated_reorder_date",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "pv_optoms",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "first_name",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "last_name",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "clinic_name",
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "clinic_telephone",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "clinic_street_line_1",
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "clinic_street_line_2",
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "city",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "state",
        "definition": {
          "dataType": "VARCHAR(2)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "postal_code",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_modified",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "additional_details",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "INDEX",
        "name": "date_created",
        "columns": [
          "date_created"
        ]
      },
      {
        "type": "INDEX",
        "name": "date_modified",
        "columns": [
          "date_modified"
        ]
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": true
  },
  {
    "type": "ALTER TABLE",
    "tblName": "pv_optoms",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "first_name"
      },
      {
        "type": "DROP COLUMN",
        "colName": "last_name"
      },
      {
        "type": "ADD COLUMN",
        "colName": "doctor_name",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "lens_options_cache",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "lens_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "power",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "bc",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "dia",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "color",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "axis",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "cyl",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "add_power",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "dn",
        "definition": {
          "dataType": "VARCHAR(2048)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "tasks",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "tasks",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_tasks_user_id",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "v2_messages",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "subject",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "message_templates",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "name",
        "definition": {
          "dataType": "VARCHAR(250)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "content",
        "definition": {
          "dataType": "TEXT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_modified",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": "NOW()",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE INDEX",
    "indexName": "user_attribution_adjust_idfa_idx",
    "tblName": "user_attribution_adjust",
    "indexColNames": [
      {
        "colName": "idfa",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "CREATE INDEX",
    "indexName": "user_attribution_adjust_adid_idx",
    "tblName": "user_attribution_adjust",
    "indexColNames": [
      {
        "colName": "adid",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "CREATE INDEX",
    "indexName": "user_attribution_adjust_gps_adid_idx",
    "tblName": "user_attribution_adjust",
    "indexColNames": [
      {
        "colName": "gps_adid",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "CREATE INDEX",
    "indexName": "user_device_ad_ids_user_id_idx",
    "tblName": "user_device_ad_ids",
    "indexColNames": [
      {
        "colName": "user_id",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "user_logs",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "ip_addr",
        "definition": {
          "dataType": "VARBINARY(16)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "pv_optoms",
    "changes": [
      {
        "type": "RENAME TABLE",
        "newTblName": "optoms"
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "optom_business_hours",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "optom_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "day_of_week",
        "definition": {
          "dataType": "TINYINT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "time_open",
        "definition": {
          "dataType": "TIME",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "time_closed",
        "definition": {
          "dataType": "TIME",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "optom_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "optoms",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "fsm_transitions",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "task_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "to_state",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "from_state",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "type",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "task_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "tasks",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "rx_verification_optom_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_exams_rx_verification_optom_id",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "rx_verification_optom_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "optoms",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "refer_a_friend",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "referree_reward_rule_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "referrer_reward_rule_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "is_redeemed",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "refer_a_friend",
    "changes": [
      {
        "type": "ADD UNIQUE INDEX",
        "constraint": "unique_referree_user_id_referrer_reward_rule_id",
        "indexName": null,
        "indexType": null,
        "indexColNames": [
          {
            "colName": "referree_user_id",
            "len": null,
            "direction": null
          },
          {
            "colName": "referrer_reward_rule_id",
            "len": null,
            "direction": null
          }
        ]
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "refer_a_friend",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_referree_reward_rule_id",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "referree_reward_rule_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "reward_rules",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_referrer_reward_rule_id",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "referrer_reward_rule_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "reward_rules",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "refer_a_friend",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "refer_a_friend_ibfk_1"
      },
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "refer_a_friend_ibfk_2"
      },
      {
        "type": "MODIFY COLUMN",
        "colName": "referree_user_id",
        "after": null,
        "definition": {
          "dataType": "INT(11)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "MODIFY COLUMN",
        "colName": "referrer_user_id",
        "after": null,
        "definition": {
          "dataType": "INT(11)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_referree_user_id",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "referree_user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_referrer_user_id",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "referrer_user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "audit_log",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "user"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "optom_business_hours",
    "changes": [
      {
        "type": "MODIFY COLUMN",
        "colName": "time_open",
        "after": null,
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "optom_business_hours",
    "changes": [
      {
        "type": "MODIFY COLUMN",
        "colName": "time_closed",
        "after": null,
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ]
  },
  {
    "type": "RENAME TABLE",
    "tblName": "fsm_transitions",
    "newName": "rx_verification_transitions"
  },
  {
    "type": "ALTER TABLE",
    "tblName": "rx_verification_transitions",
    "changes": [
      {
        "type": "MODIFY COLUMN",
        "colName": "date_created",
        "after": null,
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "optom_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "optom_receptionist_name",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "rx_invalid_reason",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_exams_optom_id",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "optom_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "optoms",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "optoms",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "email",
        "definition": {
          "dataType": "VARCHAR(254)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "fax",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "optoms",
    "changes": [
      {
        "type": "ADD FULLTEXT INDEX",
        "indexName": "fulltext_search",
        "indexColNames": [
          {
            "colName": "clinic_name",
            "len": null,
            "direction": null
          },
          {
            "colName": "doctor_name",
            "len": null,
            "direction": null
          }
        ]
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "optoms",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "timezone",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "date_completed",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "iterable_batch_logs",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "batch_end",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_v2_left_product",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "v2_left_product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "productsv2",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_v2_right_product",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "v2_right_product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "productsv2",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "CREATE INDEX",
    "indexName": "user_logs_date_created_idx",
    "tblName": "user_logs",
    "indexColNames": [
      {
        "colName": "date_created",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "CREATE INDEX",
    "indexName": "iterable_batch_logs_batch_end_idx",
    "tblName": "iterable_batch_logs",
    "indexColNames": [
      {
        "colName": "batch_end",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "notes",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "task_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "notes",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_notes_to_task_id",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "task_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "tasks",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "tasks_xref",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "fk_note"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "tasks_xref",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "note_id"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "user_attribution_adjust",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "label",
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "optoms",
    "changes": [
      {
        "type": "DROP INDEX",
        "indexName": "fulltext_search"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "optoms",
    "changes": [
      {
        "type": "ADD FULLTEXT INDEX",
        "indexName": "fulltext_search",
        "indexColNames": [
          {
            "colName": "clinic_name",
            "len": null,
            "direction": null
          },
          {
            "colName": "doctor_name",
            "len": null,
            "direction": null
          },
          {
            "colName": "city",
            "len": null,
            "direction": null
          }
        ]
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "partners",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "uuid",
        "definition": {
          "dataType": "VARCHAR(36)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "name",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": false,
          "defaultValue": "",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "PRIMARY KEY",
        "columns": [
          "uuid"
        ]
      }
    ],
    "options": {},
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "partner_users",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT(11) UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "partner_uuid",
        "definition": {
          "dataType": "VARCHAR(36)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "email",
        "definition": {
          "dataType": "VARCHAR(254)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "password_hash",
        "definition": {
          "dataType": "VARCHAR(60)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "name",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "PRIMARY KEY",
        "columns": [
          "id"
        ]
      },
      {
        "type": "UNIQUE INDEX",
        "constraint": null,
        "indexName": "email",
        "indexColNames": [
          {
            "colName": "email",
            "len": null,
            "direction": null
          }
        ]
      },
      {
        "type": "INDEX",
        "name": "partner_uuid",
        "columns": [
          "partner_uuid"
        ]
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "partner_users_ibfk_1",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "partner_uuid",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "partners",
          "indexColNames": [
            {
              "colName": "uuid",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {},
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "partner_secrets",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT(11) UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "partner_uuid",
        "definition": {
          "dataType": "VARCHAR(36)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "env",
        "definition": {
          "dataType": "VARCHAR(4)",
          "nullable": false,
          "defaultValue": "test",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "secret",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": false,
          "defaultValue": "",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "is_revoked",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": "0",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "PRIMARY KEY",
        "columns": [
          "id"
        ]
      },
      {
        "type": "UNIQUE INDEX",
        "constraint": null,
        "indexName": "secret",
        "indexColNames": [
          {
            "colName": "secret",
            "len": null,
            "direction": null
          }
        ]
      },
      {
        "type": "INDEX",
        "name": "partner_uuid",
        "columns": [
          "partner_uuid"
        ]
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "partner_secrets_ibfk_1",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "partner_uuid",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "partners",
          "indexColNames": [
            {
              "colName": "uuid",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {},
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "partner_tokens",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT(11) UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "issued_by",
        "definition": {
          "dataType": "INT(11) UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "issued_at",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "jwt_token",
        "definition": {
          "dataType": "VARCHAR(512)",
          "nullable": false,
          "defaultValue": "",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "PRIMARY KEY",
        "columns": [
          "id"
        ]
      },
      {
        "type": "UNIQUE INDEX",
        "constraint": null,
        "indexName": "jwt_token",
        "indexColNames": [
          {
            "colName": "jwt_token",
            "len": null,
            "direction": null
          }
        ]
      },
      {
        "type": "INDEX",
        "name": "issued_by",
        "columns": [
          "issued_by"
        ]
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "partner_tokens_ibfk_2",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "issued_by",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "partner_secrets",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {},
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_tokens",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "jwt_token",
        "newColName": "jwt_token",
        "definition": {
          "dataType": "VARCHAR(512)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partners",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "name",
        "newColName": "name",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_secrets",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "secret",
        "newColName": "secret",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "rx_verification_transitions",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "transition",
        "definition": {
          "dataType": "VARCHAR(250)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_secrets",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "env"
      }
    ]
  },
  {
    "type": "DROP TABLE",
    "tblName": "partner_tokens",
    "ifExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "timezones",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "city",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "state",
        "definition": {
          "dataType": "VARCHAR(2)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "postal_code",
        "definition": {
          "dataType": "VARCHAR(9)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "latitude",
        "definition": {
          "dataType": "DECIMAL(10, 8)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "longitude",
        "definition": {
          "dataType": "DECIMAL(11, 8)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "area_code",
        "definition": {
          "dataType": "VARCHAR(3)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "timezone",
        "definition": {
          "dataType": "VARCHAR(30)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "price_overlays",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "label",
        "definition": {
          "dataType": "VARCHAR(256)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "prices",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "price",
        "definition": {
          "dataType": "DECIMAL(5, 2)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "min_quantity_threshold",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "lens_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "price_overlay_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": "fk_lens_id",
        "indexColNames": [
          {
            "colName": "lens_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "lenses",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": "fk_price_overlay_id",
        "indexColNames": [
          {
            "colName": "price_overlay_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "price_overlays",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "UNIQUE INDEX",
        "constraint": null,
        "indexName": "unique_date_lens_price_overlay_qty",
        "indexColNames": [
          {
            "colName": "date_created",
            "len": null,
            "direction": null
          },
          {
            "colName": "lens_id",
            "len": null,
            "direction": null
          },
          {
            "colName": "price_overlay_id",
            "len": null,
            "direction": null
          },
          {
            "colName": "min_quantity_threshold",
            "len": null,
            "direction": null
          }
        ]
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "users_price_overlays",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_expiration",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "price_overlay_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": "fk_user_id",
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": null,
        "indexName": "fk_price_overlay_id",
        "indexColNames": [
          {
            "colName": "price_overlay_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "price_overlays",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "UNIQUE INDEX",
        "constraint": null,
        "indexName": "unique_user_price_overlay",
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          },
          {
            "colName": "price_overlay_id",
            "len": null,
            "direction": null
          }
        ]
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "partner_identities",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "uuid",
        "definition": {
          "dataType": "VARCHAR(36)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_modified",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "partner_uuid",
        "definition": {
          "dataType": "VARCHAR(36)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "external_id",
        "definition": {
          "dataType": "VARCHAR(36)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "email",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "name",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "telephone",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "PRIMARY KEY",
        "columns": [
          "uuid"
        ]
      },
      {
        "type": "UNIQUE INDEX",
        "constraint": null,
        "indexName": "partner_uuid",
        "indexColNames": [
          {
            "colName": "partner_uuid",
            "len": null,
            "direction": null
          },
          {
            "colName": "external_id",
            "len": null,
            "direction": null
          }
        ]
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "partner_identities_ibfk_1",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "partner_uuid",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "partners",
          "indexColNames": [
            {
              "colName": "uuid",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {},
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "lenses",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "is_custom",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": "0",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "has_signed_high_myope_waiver",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "qualify_last_exam_range_start_date",
        "definition": {
          "dataType": "DATE",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "qualify_last_exam_range_end_date",
        "definition": {
          "dataType": "DATE",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "lenses",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "options"
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "promo_rewards",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_modified",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "expires_at",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "promo_code",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "label",
        "definition": {
          "dataType": "VARCHAR(64)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "value",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "type",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "max_uses",
        "definition": {
          "dataType": "INT(1)",
          "nullable": true,
          "defaultValue": 1,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "is_stackable",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "can_combine",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "for_new_users",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "is_deleted",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "UNIQUE INDEX",
        "constraint": null,
        "indexName": "unique_promo_code",
        "indexColNames": [
          {
            "colName": "promo_code",
            "len": null,
            "direction": null
          }
        ]
      }
    ],
    "options": {},
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "held_promo_rewards",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "promo_reward_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "applied_to_order_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "expires_at",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "value",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "type",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "is_stackable",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "can_combine",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "for_new_users",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "is_deleted",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "promo_reward_id_ibfk",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "promo_reward_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "promo_rewards",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "user_held_promo_reward_ibfk",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "applied_to_order_id_ibfk_1",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "applied_to_order_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "orders",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {},
    "ifNotExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "held_px_rewards",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "applied_to_order_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "given_by_admin_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "value",
        "definition": {
          "dataType": "DECIMAL(13, 2)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "type",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "reason",
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "locked_to_order",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "is_deleted",
        "definition": {
          "dataType": "TINYINT(1)",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "user_held_px_reward_ibfk",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "given_by_admin_id_ibfk",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "given_by_admin_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "admins",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "applied_to_order_id_ibfk_2",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "applied_to_order_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "orders",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {},
    "ifNotExists": false
  },
  {
    "type": "RENAME TABLE",
    "tblName": "rx_verification_transitions",
    "newName": "task_transitions"
  },
  {
    "type": "CREATE TABLE",
    "tblName": "faxes",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "optom_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "task_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "from",
        "definition": {
          "dataType": "VARCHAR(12)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "to",
        "definition": {
          "dataType": "VARCHAR(12)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "s3_key",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "direction",
        "definition": {
          "dataType": "ENUM(\"INBOUND\", \"OUTBOUND\")",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "status",
        "definition": {
          "dataType": "VARCHAR(10)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "longstatus",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "faxage_id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "retries",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": 0,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_sent",
        "definition": {
          "dataType": "DATETIME",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_complete",
        "definition": {
          "dataType": "DATETIME",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_modified",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "INDEX",
        "name": "faxes_status",
        "columns": [
          "status"
        ]
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "faxes_task_fk",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "task_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "tasks",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "faxes_optom_fk",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "optom_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "optoms",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {},
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "price_overlays",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "affiliate_id",
        "definition": {
          "dataType": "VARCHAR(8)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": true,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "fax_verification_response_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "fax_verification_request_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fax_verification_response_fk",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "fax_verification_response_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "faxes",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fax_verification_request_fk",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "fax_verification_request_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "faxes",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "optoms",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "incoming_fax_numbers",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "unsatisfied_state_requirements",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "rx_requests",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT(11) UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_modified",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "token",
        "definition": {
          "dataType": "VARCHAR(36)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "identity_uuid",
        "definition": {
          "dataType": "VARCHAR(36)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "partner_uuid",
        "definition": {
          "dataType": "VARCHAR(36)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "target_skus",
        "definition": {
          "dataType": "JSON",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "PRIMARY KEY",
        "columns": [
          "id"
        ]
      },
      {
        "type": "UNIQUE INDEX",
        "constraint": null,
        "indexName": "token",
        "indexColNames": [
          {
            "colName": "token",
            "len": null,
            "direction": null
          }
        ]
      },
      {
        "type": "INDEX",
        "name": "identity_uuid",
        "columns": [
          "identity_uuid"
        ]
      },
      {
        "type": "INDEX",
        "name": "partner_uuid",
        "columns": [
          "partner_uuid"
        ]
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "rx_requests_ibfk_1",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "identity_uuid",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "partner_identities",
          "indexColNames": [
            {
              "colName": "uuid",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "rx_requests_ibfk_2",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "partner_uuid",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "partners",
          "indexColNames": [
            {
              "colName": "uuid",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {},
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "tasks",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "parent_task_id",
        "definition": {
          "dataType": "INT(11)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "parent_task_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "tasks",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partners",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "theme",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": "AFTER name"
      }
    ]
  },
  null,
  {
    "type": "ALTER TABLE",
    "tblName": "partners",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "theme",
        "newColName": "theme",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "CREATE TABLE",
    "tblName": "rx_patients",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "uuid",
        "definition": {
          "dataType": "VARCHAR(36)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_modified",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "rx_request_id",
        "definition": {
          "dataType": "INT(11) UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "name",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "email",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_of_birth",
        "definition": {
          "dataType": "VARCHAR(10)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "scratchpad",
        "definition": {
          "dataType": "JSON",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "left_rx",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "right_rx",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "PRIMARY KEY",
        "columns": [
          "uuid"
        ]
      },
      {
        "type": "INDEX",
        "name": "rx_request_id",
        "columns": [
          "rx_request_id"
        ]
      },
      {
        "type": "FOREIGN KEY",
        "constraint": "rx_patients_ibfk_1",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "rx_request_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "rx_requests",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ],
    "options": {},
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "rx_patients",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "scratchpad",
        "newColName": "scratchpad",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "shipping_options",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "affiliate_id",
        "definition": {
          "dataType": "VARCHAR(8)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": true,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  null,
  {
    "type": "ALTER TABLE",
    "tblName": "shipping_options",
    "changes": [
      {
        "type": "MODIFY COLUMN",
        "colName": "affiliate_id",
        "after": null,
        "definition": {
          "dataType": "VARCHAR(8)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": true,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "rx_patients",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "date_of_birth"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "rx_patients",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "fulfillment",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": "AFTER scratchpad"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "distributor_orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "pack",
        "definition": {
          "dataType": "VARCHAR(20)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "tshirt",
        "definition": {
          "dataType": "VARCHAR(5)",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "rx_requests",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "target_skus",
        "newColName": "target_product_ids",
        "definition": {
          "dataType": "JSON",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "CREATE TABLE LIKE",
    "tblName": "user_reattribution_adjust",
    "oldTblName": "user_attribution_adjust",
    "ifNotExists": null
  },
  {
    "type": "ALTER TABLE",
    "tblName": "rx_patients",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "left_product_id",
        "definition": {
          "dataType": "INT(11)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": "AFTER fulfillment"
      },
      {
        "type": "ADD COLUMN",
        "colName": "right_product_id",
        "definition": {
          "dataType": "INT(11)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": "AFTER left_rx"
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "left_product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "lenses",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "right_product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "lenses",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "RENAME TABLE",
    "tblName": "rx_requests",
    "newName": "rx_orders"
  },
  {
    "type": "ALTER TABLE",
    "tblName": "rx_patients",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "rx_request_id",
        "newColName": "rx_order_id",
        "definition": {
          "dataType": "INT(11) UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "RENAME TABLE",
    "tblName": "rx_patients",
    "newName": "rx_requests"
  },
  {
    "type": "RENAME TABLE",
    "tblName": "partner_users",
    "newName": "partner_portal_users"
  },
  null,
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "exams_users_fk"
      },
      {
        "type": "MODIFY COLUMN",
        "colName": "user_id",
        "after": null,
        "definition": {
          "dataType": "INT(11)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "exams_users_fk",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "MODIFY COLUMN",
        "colName": "status",
        "after": null,
        "definition": {
          "dataType": "VARCHAR(128)",
          "nullable": false,
          "defaultValue": "USER_INCOMPLETE",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "fk_user_id"
      },
      {
        "type": "MODIFY COLUMN",
        "colName": "user_id",
        "after": null,
        "definition": {
          "dataType": "INT(11)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "fk_user_id",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  null,
  {
    "type": "CREATE INDEX",
    "indexName": "direction_is_acked_idx",
    "tblName": "v2_messages",
    "indexColNames": [
      {
        "colName": "direction",
        "len": null,
        "direction": null
      },
      {
        "colName": "is_acknowledged",
        "len": null,
        "direction": null
      }
    ],
    "unique": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "fk_v2_left_product"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "fk_v2_right_product"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": "fk_v2_left_product",
        "indexColNames": [
          {
            "colName": "v2_left_product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "lenses",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "orders",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": "fk_v2_right_product",
        "indexColNames": [
          {
            "colName": "v2_right_product_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "lenses",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "lenses",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": "fk_brand_id",
        "indexColNames": [
          {
            "colName": "brand_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "brands",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  null,
  {
    "type": "ALTER TABLE",
    "tblName": "deeplinks",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "deeplinks_ibfk_2"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "refer_a_friend",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "referree_held_promo_id",
        "definition": {
          "dataType": "INT(11)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      },
      {
        "type": "ADD COLUMN",
        "colName": "referrer_held_promo_id",
        "definition": {
          "dataType": "INT(11)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "refer_a_friend",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "refer_a_friend_ibfk_5",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "referree_held_promo_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "held_promo_rewards",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      },
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "refer_a_friend_ibfk_6",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "referrer_held_promo_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "held_promo_rewards",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  null,
  {
    "type": "ALTER TABLE",
    "tblName": "exams",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "photo_rx_state",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": null
      }
    ]
  },
  null,
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "affiliate_id",
        "newColName": "affiliate_id",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "RENAME TABLE",
    "tblName": "partners",
    "newName": "partners_deprecated"
  },
  {
    "type": "CREATE TABLE",
    "tblName": "partners",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "public_uuid",
        "definition": {
          "dataType": "VARCHAR(36)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "name",
        "definition": {
          "dataType": "VARCHAR(255)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "theme",
        "definition": {
          "dataType": "VARCHAR(16)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "PRIMARY KEY",
        "columns": [
          "id"
        ]
      },
      {
        "type": "UNIQUE INDEX",
        "constraint": null,
        "indexName": "public_uuid",
        "indexColNames": [
          {
            "colName": "public_uuid",
            "len": null,
            "direction": null
          }
        ]
      }
    ],
    "options": {},
    "ifNotExists": false
  },
  null,
  null,
  {
    "type": "ALTER TABLE",
    "tblName": "partner_identities",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "partner_id",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": "AFTER partner_uuid"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_portal_users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "partner_id",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": "AFTER partner_uuid"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_secrets",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "partner_id",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": "AFTER partner_uuid"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "rx_orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "partner_id",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": "AFTER partner_uuid"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_identities",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "partner_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "partners",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_portal_users",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "partner_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "partners",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_secrets",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "partner_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "partners",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "rx_orders",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "partner_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "partners",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  null,
  null,
  null,
  null,
  {
    "type": "ALTER TABLE",
    "tblName": "partner_identities",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "partner_identities_ibfk_1"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_portal_users",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "partner_portal_users_ibfk_1"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_secrets",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "partner_secrets_ibfk_1"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "rx_orders",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "rx_orders_ibfk_2"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_identities",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "partner_uuid"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_portal_users",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "partner_uuid"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_secrets",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "partner_uuid"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "rx_orders",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "partner_uuid"
      }
    ]
  },
  {
    "type": "DROP TABLE",
    "tblName": "partners_deprecated",
    "ifExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_identities",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "partner_identities_ibfk_2"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_portal_users",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "partner_portal_users_ibfk_2"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_secrets",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "partner_secrets_ibfk_2"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "rx_orders",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "rx_orders_ibfk_3"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_identities",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "partner_id",
        "newColName": "partner_id",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_portal_users",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "partner_id",
        "newColName": "partner_id",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_secrets",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "partner_id",
        "newColName": "partner_id",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "rx_orders",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "partner_id",
        "newColName": "partner_id",
        "definition": {
          "dataType": "TINYINT UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_identities",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "partner_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "partners",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_portal_users",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "partner_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "partners",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "partner_secrets",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "partner_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "partners",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "rx_orders",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "partner_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "partners",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "DROP TABLE",
    "tblName": "message_templates",
    "ifExists": false
  },
  {
    "type": "CREATE TABLE",
    "tblName": "message_templates",
    "definitions": [
      {
        "type": "COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "label",
        "definition": {
          "dataType": "VARCHAR(250)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "content",
        "definition": {
          "dataType": "TEXT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_created",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "date_modified",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": "NOW()",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "description",
        "definition": {
          "dataType": "TEXT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "categories",
        "definition": {
          "dataType": "JSON",
          "nullable": true,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "COLUMN",
        "colName": "name",
        "definition": {
          "dataType": "VARCHAR(250)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      },
      {
        "type": "UNIQUE INDEX",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "label",
            "len": null,
            "direction": null
          }
        ]
      },
      {
        "type": "UNIQUE INDEX",
        "constraint": null,
        "indexName": null,
        "indexColNames": [
          {
            "colName": "name",
            "len": null,
            "direction": null
          }
        ]
      }
    ],
    "options": {
      "ENGINE": "InnoDB",
      "CHARSET": "utf8",
      "COLLATE": "utf8_general_ci"
    },
    "ifNotExists": false
  },
  {
    "type": "ALTER TABLE",
    "tblName": "rx_requests",
    "changes": [
      {
        "type": "DROP PRIMARY KEY"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "rx_requests",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "id",
        "definition": {
          "dataType": "INT UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": true,
          "autoIncrement": true,
          "reference": null
        },
        "position": "FIRST"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "rx_requests",
    "changes": [
      {
        "type": "ADD UNIQUE INDEX",
        "constraint": null,
        "indexName": "unique_uuid",
        "indexType": null,
        "indexColNames": [
          {
            "colName": "uuid",
            "len": null,
            "direction": null
          }
        ]
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "affiliate_id",
        "newColName": "external_id",
        "definition": {
          "dataType": "VARCHAR(32)",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": "id"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "partner_id",
        "definition": {
          "dataType": "TINYINT(3) UNSIGNED",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": "AFTER id"
      }
    ]
  },
  null,
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "partner_id",
        "newColName": "partner_id",
        "definition": {
          "dataType": "TINYINT(3) UNSIGNED",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "partner_id_fk",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "partner_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "partners",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD UNIQUE INDEX",
        "constraint": null,
        "indexName": "uniq_external_id",
        "indexType": null,
        "indexColNames": [
          {
            "colName": "external_id",
            "len": null,
            "direction": null
          },
          {
            "colName": "partner_id",
            "len": null,
            "direction": null
          }
        ]
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "DROP INDEX",
        "indexName": "constr_affiliate_id"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD UNIQUE INDEX",
        "constraint": null,
        "indexName": "uniq_email",
        "indexType": null,
        "indexColNames": [
          {
            "colName": "email",
            "len": null,
            "direction": null
          },
          {
            "colName": "partner_id",
            "len": null,
            "direction": null
          }
        ]
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "DROP INDEX",
        "indexName": "email"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "date_modified",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": "AFTER date_created"
      }
    ]
  },
  null,
  {
    "type": "ALTER TABLE",
    "tblName": "users",
    "changes": [
      {
        "type": "CHANGE COLUMN",
        "oldColName": "date_modified",
        "newColName": "date_modified",
        "definition": {
          "dataType": "TIMESTAMP",
          "nullable": false,
          "defaultValue": "CURRENT_TIMESTAMP",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "after": null
      }
    ]
  },
  null,
  {
    "type": "ALTER TABLE",
    "tblName": "rx_orders",
    "changes": [
      {
        "type": "ADD COLUMN",
        "colName": "user_id",
        "definition": {
          "dataType": "INT",
          "nullable": true,
          "defaultValue": "NULL",
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        },
        "position": "AFTER partner_id"
      }
    ]
  },
  null,
  {
    "type": "ALTER TABLE",
    "tblName": "rx_orders",
    "changes": [
      {
        "type": "MODIFY COLUMN",
        "colName": "user_id",
        "after": null,
        "definition": {
          "dataType": "INT",
          "nullable": false,
          "defaultValue": null,
          "isUnique": false,
          "isPrimary": false,
          "autoIncrement": false,
          "reference": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "rx_orders",
    "changes": [
      {
        "type": "ADD FOREIGN KEY",
        "constraint": "user_id_fk",
        "indexName": null,
        "indexColNames": [
          {
            "colName": "user_id",
            "len": null,
            "direction": null
          }
        ],
        "reference": {
          "tblName": "users",
          "indexColNames": [
            {
              "colName": "id",
              "len": null,
              "direction": null
            }
          ],
          "matchMode": null,
          "onDelete": null,
          "onUpdate": null
        }
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "rx_orders",
    "changes": [
      {
        "type": "DROP FOREIGN KEY",
        "symbol": "rx_orders_ibfk_1"
      }
    ]
  },
  {
    "type": "ALTER TABLE",
    "tblName": "rx_orders",
    "changes": [
      {
        "type": "DROP COLUMN",
        "colName": "identity_uuid"
      }
    ]
  },
  {
    "type": "DROP TABLE",
    "tblName": "partner_identities",
    "ifExists": false
  }
]
